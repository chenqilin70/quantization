<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kylin.quantization.mapper.FundMapper">
  <resultMap id="BaseResultMap" type="com.kylin.quantization.model.Fund">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jan 25 16:07:50 CST 2019.
    -->
    <result column="rowkey" jdbcType="VARCHAR" property="rowkey" />
    <result column="fundcode" jdbcType="VARCHAR" property="fundcode" />
    <result column="fundtype" jdbcType="VARCHAR" property="fundtype" />
    <result column="tgfl" jdbcType="VARCHAR" property="tgfl" />
    <result column="zgrgfl" jdbcType="VARCHAR" property="zgrgfl" />
    <result column="bbms" jdbcType="VARCHAR" property="bbms" />
    <result column="glfl" jdbcType="VARCHAR" property="glfl" />
    <result column="clylfh" jdbcType="VARCHAR" property="clylfh" />
    <result column="yjbjjz" jdbcType="VARCHAR" property="yjbjjz" />
    <result column="fhgm" jdbcType="VARCHAR" property="fhgm" />
    <result column="gzbd" jdbcType="VARCHAR" property="gzbd" />
    <result column="zcgm" jdbcType="VARCHAR" property="zcgm" />
    <result column="zjbbq" jdbcType="VARCHAR" property="zjbbq" />
    <result column="fxrq" jdbcType="VARCHAR" property="fxrq" />
    <result column="jjtgr" jdbcType="VARCHAR" property="jjtgr" />
    <result column="jjqc" jdbcType="VARCHAR" property="jjqc" />
    <result column="zgshfl" jdbcType="VARCHAR" property="zgshfl" />
    <result column="jjjc" jdbcType="VARCHAR" property="jjjc" />
    <result column="jjlx" jdbcType="VARCHAR" property="jjlx" />
    <result column="jjglr" jdbcType="VARCHAR" property="jjglr" />
    <result column="zgsgfl" jdbcType="VARCHAR" property="zgsgfl" />
    <result column="xsfwfl" jdbcType="VARCHAR" property="xsfwfl" />
    <result column="dbjg" jdbcType="VARCHAR" property="dbjg" />
    <result column="jjdm" jdbcType="VARCHAR" property="jjdm" />
    <result column="clrqgm" jdbcType="VARCHAR" property="clrqgm" />
    <result column="jjjlr" jdbcType="VARCHAR" property="jjjlr" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jan 25 16:07:50 CST 2019.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jan 25 16:07:50 CST 2019.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jan 25 16:07:50 CST 2019.
    -->
    rowkey, fundcode, fundtype, tgfl, zgrgfl, bbms, glfl, clylfh, yjbjjz, fhgm, gzbd, 
    zcgm, zjbbq, fxrq, jjtgr, jjqc, zgshfl, jjjc, jjlx, jjglr, zgsgfl, xsfwfl, dbjg, 
    jjdm, clrqgm, jjjlr
  </sql>
  <select id="selectByExample" parameterType="com.kylin.quantization.model.FundExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jan 25 16:07:50 CST 2019.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from FUND
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <delete id="deleteByExample" parameterType="com.kylin.quantization.model.FundExample">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jan 25 16:07:50 CST 2019.
    -->
    delete from FUND
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.kylin.quantization.model.Fund">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jan 25 16:07:50 CST 2019.
    -->
    insert into FUND (rowkey, fundcode, fundtype, 
      tgfl, zgrgfl, bbms, 
      glfl, clylfh, yjbjjz, 
      fhgm, gzbd, zcgm, zjbbq, 
      fxrq, jjtgr, jjqc, 
      zgshfl, jjjc, jjlx, 
      jjglr, zgsgfl, xsfwfl, 
      dbjg, jjdm, clrqgm, 
      jjjlr)
    values (#{rowkey,jdbcType=VARCHAR}, #{fundcode,jdbcType=VARCHAR}, #{fundtype,jdbcType=VARCHAR}, 
      #{tgfl,jdbcType=VARCHAR}, #{zgrgfl,jdbcType=VARCHAR}, #{bbms,jdbcType=VARCHAR}, 
      #{glfl,jdbcType=VARCHAR}, #{clylfh,jdbcType=VARCHAR}, #{yjbjjz,jdbcType=VARCHAR}, 
      #{fhgm,jdbcType=VARCHAR}, #{gzbd,jdbcType=VARCHAR}, #{zcgm,jdbcType=VARCHAR}, #{zjbbq,jdbcType=VARCHAR}, 
      #{fxrq,jdbcType=VARCHAR}, #{jjtgr,jdbcType=VARCHAR}, #{jjqc,jdbcType=VARCHAR}, 
      #{zgshfl,jdbcType=VARCHAR}, #{jjjc,jdbcType=VARCHAR}, #{jjlx,jdbcType=VARCHAR}, 
      #{jjglr,jdbcType=VARCHAR}, #{zgsgfl,jdbcType=VARCHAR}, #{xsfwfl,jdbcType=VARCHAR}, 
      #{dbjg,jdbcType=VARCHAR}, #{jjdm,jdbcType=VARCHAR}, #{clrqgm,jdbcType=VARCHAR}, 
      #{jjjlr,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.kylin.quantization.model.Fund">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jan 25 16:07:50 CST 2019.
    -->
    insert into FUND
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="rowkey != null">
        rowkey,
      </if>
      <if test="fundcode != null">
        fundcode,
      </if>
      <if test="fundtype != null">
        fundtype,
      </if>
      <if test="tgfl != null">
        tgfl,
      </if>
      <if test="zgrgfl != null">
        zgrgfl,
      </if>
      <if test="bbms != null">
        bbms,
      </if>
      <if test="glfl != null">
        glfl,
      </if>
      <if test="clylfh != null">
        clylfh,
      </if>
      <if test="yjbjjz != null">
        yjbjjz,
      </if>
      <if test="fhgm != null">
        fhgm,
      </if>
      <if test="gzbd != null">
        gzbd,
      </if>
      <if test="zcgm != null">
        zcgm,
      </if>
      <if test="zjbbq != null">
        zjbbq,
      </if>
      <if test="fxrq != null">
        fxrq,
      </if>
      <if test="jjtgr != null">
        jjtgr,
      </if>
      <if test="jjqc != null">
        jjqc,
      </if>
      <if test="zgshfl != null">
        zgshfl,
      </if>
      <if test="jjjc != null">
        jjjc,
      </if>
      <if test="jjlx != null">
        jjlx,
      </if>
      <if test="jjglr != null">
        jjglr,
      </if>
      <if test="zgsgfl != null">
        zgsgfl,
      </if>
      <if test="xsfwfl != null">
        xsfwfl,
      </if>
      <if test="dbjg != null">
        dbjg,
      </if>
      <if test="jjdm != null">
        jjdm,
      </if>
      <if test="clrqgm != null">
        clrqgm,
      </if>
      <if test="jjjlr != null">
        jjjlr,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="rowkey != null">
        #{rowkey,jdbcType=VARCHAR},
      </if>
      <if test="fundcode != null">
        #{fundcode,jdbcType=VARCHAR},
      </if>
      <if test="fundtype != null">
        #{fundtype,jdbcType=VARCHAR},
      </if>
      <if test="tgfl != null">
        #{tgfl,jdbcType=VARCHAR},
      </if>
      <if test="zgrgfl != null">
        #{zgrgfl,jdbcType=VARCHAR},
      </if>
      <if test="bbms != null">
        #{bbms,jdbcType=VARCHAR},
      </if>
      <if test="glfl != null">
        #{glfl,jdbcType=VARCHAR},
      </if>
      <if test="clylfh != null">
        #{clylfh,jdbcType=VARCHAR},
      </if>
      <if test="yjbjjz != null">
        #{yjbjjz,jdbcType=VARCHAR},
      </if>
      <if test="fhgm != null">
        #{fhgm,jdbcType=VARCHAR},
      </if>
      <if test="gzbd != null">
        #{gzbd,jdbcType=VARCHAR},
      </if>
      <if test="zcgm != null">
        #{zcgm,jdbcType=VARCHAR},
      </if>
      <if test="zjbbq != null">
        #{zjbbq,jdbcType=VARCHAR},
      </if>
      <if test="fxrq != null">
        #{fxrq,jdbcType=VARCHAR},
      </if>
      <if test="jjtgr != null">
        #{jjtgr,jdbcType=VARCHAR},
      </if>
      <if test="jjqc != null">
        #{jjqc,jdbcType=VARCHAR},
      </if>
      <if test="zgshfl != null">
        #{zgshfl,jdbcType=VARCHAR},
      </if>
      <if test="jjjc != null">
        #{jjjc,jdbcType=VARCHAR},
      </if>
      <if test="jjlx != null">
        #{jjlx,jdbcType=VARCHAR},
      </if>
      <if test="jjglr != null">
        #{jjglr,jdbcType=VARCHAR},
      </if>
      <if test="zgsgfl != null">
        #{zgsgfl,jdbcType=VARCHAR},
      </if>
      <if test="xsfwfl != null">
        #{xsfwfl,jdbcType=VARCHAR},
      </if>
      <if test="dbjg != null">
        #{dbjg,jdbcType=VARCHAR},
      </if>
      <if test="jjdm != null">
        #{jjdm,jdbcType=VARCHAR},
      </if>
      <if test="clrqgm != null">
        #{clrqgm,jdbcType=VARCHAR},
      </if>
      <if test="jjjlr != null">
        #{jjjlr,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.kylin.quantization.model.FundExample" resultType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jan 25 16:07:50 CST 2019.
    -->
    select count(*) from FUND
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jan 25 16:07:50 CST 2019.
    -->
    update FUND
    <set>
      <if test="record.rowkey != null">
        rowkey = #{record.rowkey,jdbcType=VARCHAR},
      </if>
      <if test="record.fundcode != null">
        fundcode = #{record.fundcode,jdbcType=VARCHAR},
      </if>
      <if test="record.fundtype != null">
        fundtype = #{record.fundtype,jdbcType=VARCHAR},
      </if>
      <if test="record.tgfl != null">
        tgfl = #{record.tgfl,jdbcType=VARCHAR},
      </if>
      <if test="record.zgrgfl != null">
        zgrgfl = #{record.zgrgfl,jdbcType=VARCHAR},
      </if>
      <if test="record.bbms != null">
        bbms = #{record.bbms,jdbcType=VARCHAR},
      </if>
      <if test="record.glfl != null">
        glfl = #{record.glfl,jdbcType=VARCHAR},
      </if>
      <if test="record.clylfh != null">
        clylfh = #{record.clylfh,jdbcType=VARCHAR},
      </if>
      <if test="record.yjbjjz != null">
        yjbjjz = #{record.yjbjjz,jdbcType=VARCHAR},
      </if>
      <if test="record.fhgm != null">
        fhgm = #{record.fhgm,jdbcType=VARCHAR},
      </if>
      <if test="record.gzbd != null">
        gzbd = #{record.gzbd,jdbcType=VARCHAR},
      </if>
      <if test="record.zcgm != null">
        zcgm = #{record.zcgm,jdbcType=VARCHAR},
      </if>
      <if test="record.zjbbq != null">
        zjbbq = #{record.zjbbq,jdbcType=VARCHAR},
      </if>
      <if test="record.fxrq != null">
        fxrq = #{record.fxrq,jdbcType=VARCHAR},
      </if>
      <if test="record.jjtgr != null">
        jjtgr = #{record.jjtgr,jdbcType=VARCHAR},
      </if>
      <if test="record.jjqc != null">
        jjqc = #{record.jjqc,jdbcType=VARCHAR},
      </if>
      <if test="record.zgshfl != null">
        zgshfl = #{record.zgshfl,jdbcType=VARCHAR},
      </if>
      <if test="record.jjjc != null">
        jjjc = #{record.jjjc,jdbcType=VARCHAR},
      </if>
      <if test="record.jjlx != null">
        jjlx = #{record.jjlx,jdbcType=VARCHAR},
      </if>
      <if test="record.jjglr != null">
        jjglr = #{record.jjglr,jdbcType=VARCHAR},
      </if>
      <if test="record.zgsgfl != null">
        zgsgfl = #{record.zgsgfl,jdbcType=VARCHAR},
      </if>
      <if test="record.xsfwfl != null">
        xsfwfl = #{record.xsfwfl,jdbcType=VARCHAR},
      </if>
      <if test="record.dbjg != null">
        dbjg = #{record.dbjg,jdbcType=VARCHAR},
      </if>
      <if test="record.jjdm != null">
        jjdm = #{record.jjdm,jdbcType=VARCHAR},
      </if>
      <if test="record.clrqgm != null">
        clrqgm = #{record.clrqgm,jdbcType=VARCHAR},
      </if>
      <if test="record.jjjlr != null">
        jjjlr = #{record.jjjlr,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jan 25 16:07:50 CST 2019.
    -->
    update FUND
    set rowkey = #{record.rowkey,jdbcType=VARCHAR},
      fundcode = #{record.fundcode,jdbcType=VARCHAR},
      fundtype = #{record.fundtype,jdbcType=VARCHAR},
      tgfl = #{record.tgfl,jdbcType=VARCHAR},
      zgrgfl = #{record.zgrgfl,jdbcType=VARCHAR},
      bbms = #{record.bbms,jdbcType=VARCHAR},
      glfl = #{record.glfl,jdbcType=VARCHAR},
      clylfh = #{record.clylfh,jdbcType=VARCHAR},
      yjbjjz = #{record.yjbjjz,jdbcType=VARCHAR},
      fhgm = #{record.fhgm,jdbcType=VARCHAR},
      gzbd = #{record.gzbd,jdbcType=VARCHAR},
      zcgm = #{record.zcgm,jdbcType=VARCHAR},
      zjbbq = #{record.zjbbq,jdbcType=VARCHAR},
      fxrq = #{record.fxrq,jdbcType=VARCHAR},
      jjtgr = #{record.jjtgr,jdbcType=VARCHAR},
      jjqc = #{record.jjqc,jdbcType=VARCHAR},
      zgshfl = #{record.zgshfl,jdbcType=VARCHAR},
      jjjc = #{record.jjjc,jdbcType=VARCHAR},
      jjlx = #{record.jjlx,jdbcType=VARCHAR},
      jjglr = #{record.jjglr,jdbcType=VARCHAR},
      zgsgfl = #{record.zgsgfl,jdbcType=VARCHAR},
      xsfwfl = #{record.xsfwfl,jdbcType=VARCHAR},
      dbjg = #{record.dbjg,jdbcType=VARCHAR},
      jjdm = #{record.jjdm,jdbcType=VARCHAR},
      clrqgm = #{record.clrqgm,jdbcType=VARCHAR},
      jjjlr = #{record.jjjlr,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>


  <select id="searchTips" parameterType="java.lang.String" resultMap="BaseResultMap">
    select
      d.fundcode as fundcode ,d.jjqc as jjqc ,d.fundtype as fundtype
    from (
      select
        f.fundcode,f.jjqc,f.fundtype
      from
        FUND f
      WHERE
        (
          f.fundtype = '股票型'
          OR
          f.fundtype = '股票指数'
          OR
          f.fundtype= '联接基金'
        )
        and (
          f.fundcode like concat('%',#{searchWord},'%')
          or f.jjqc like concat('%',#{searchWord},'%')
          or f.jjjc like concat('%',#{searchWord},'%')
          or f.jjglr like concat('%',#{searchWord},'%')
        )
      UNION
      select
        f.fundcode,f.jjqc,f.fundtype
      from
        FUND f
      WHERE
        (
          f.fundtype != '股票型'
          and
          f.fundtype != '股票指数'
          and
          f.fundtype != '联接基金'
        )
        and (
          f.fundcode like concat('%',#{searchWord},'%')
          or f.jjqc like concat('%',#{searchWord},'%')
          or f.jjjc like concat('%',#{searchWord},'%')
          or f.jjglr like concat('%',#{searchWord},'%')
        )


    ) d limit 8
  </select>


</mapper>