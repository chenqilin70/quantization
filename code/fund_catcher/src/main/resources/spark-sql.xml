<?xml version="1.0" encoding="UTF-8"?>
<sqls>
    <test>
        <![CDATA[
            select
                corr(i.close,n.LJJZ) as correlationindex,substring_index(n.rowkey,"_",1)
            from
                index i
                inner join netval n on substr(i.rowkey,instr(i.rowkey,"_")+1)=substr(n.rowkey,instr(n.rowkey,"_")+1)
                inner join fund f on f.fundcode=substr(n.rowkey,1,instr(n.rowkey,"_"))
            where
                i.close is not null
                and n.LJJZ is not null
                and f.jjlx='股票型'
            group by
                substring_index(n.rowkey,"_",1)
            order by
                correlationindex
        ]]>
    </test>
    <test2>
        <![CDATA[


            select
                substr('000001_20011218',1,instr('000001_20011218',"_"))

            from
                netval n




        ]]>
    </test2>
    <index>
        <![CDATA[
            select * from index
        ]]>
    </index>

</sqls>